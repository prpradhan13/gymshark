(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{76106:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wishlist",function(){return s(48765)}])},48765:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return b},default:function(){return x}});var r=s(24246),i=s(27378),l=s(88038),n=s.n(l),o=s(73987),a=s(97281),c=s(93109),h=s(30689),u=s(9999),d=s(20949);let p=(0,i.createContext)(null),_={didCatch:!1,error:null};class f extends i.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=_}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,s,r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];null===(t=(s=this.props).onReset)||void 0===t||t.call(s,{args:i,reason:"imperative-api"}),this.setState(_)}}componentDidCatch(e,t){var s,r;null===(s=(r=this.props).onError)||void 0===s||s.call(r,e,t)}componentDidUpdate(e,t){let{didCatch:s}=this.state,{resetKeys:r}=this.props;if(s&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,s)=>!Object.is(e,t[s]))}(e.resetKeys,r)){var i,l;null===(i=(l=this.props).onReset)||void 0===i||i.call(l,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(_)}}render(){let{children:e,fallbackRender:t,FallbackComponent:s,fallback:r}=this.props,{didCatch:l,error:n}=this.state,o=e;if(l){let e={error:n,resetErrorBoundary:this.resetErrorBoundary};if((0,i.isValidElement)(r))o=r;else if("function"==typeof t)o=t(e);else if(s)o=(0,i.createElement)(s,e);else throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return(0,i.createElement)(p.Provider,{value:{didCatch:l,error:n,resetErrorBoundary:this.resetErrorBoundary}},o)}}var m=s(89293),j=s(77178),w=s.n(j),b=!0;function x(e){let{isAuthenticated:t,error:s}=e;(0,o.d)("shopAppPromotion");let{t:l}=(0,m.$G)(),{wishlistItems:u,setHeaderNotifcation:p,discontinuedItems:_,setSnackbox:j}=(0,h.Ei)(),b=(0,c.Xm)({key:"ecom.web.wishlist-v2",fallback:!1}),{query:x}=(0,a.B)(),v=Object.keys(x).length,[E,y]=(0,i.useState)(!0),g=(0,i.useMemo)(()=>u.sort((e,t)=>e.addedAt-t.addedAt).map(e=>e.productData).map(e=>e.objectID),[u]);return((0,i.useEffect)(()=>{p(!1)},[p]),(0,i.useEffect)(()=>{0===v?y(!0):y(!1)},[v]),(0,i.useEffect)(()=>{_&&j({type:"discontinued",state:"success"})},[_]),b.enabled)?s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(),{children:(0,r.jsx)("title",{children:l("wishlist.seo.page_title")})}),(0,r.jsx)(d.jj,{})]}):t?0===u.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(),{children:(0,r.jsx)("title",{children:l("wishlist.seo.page_title")})}),(0,r.jsx)(h.HN,{})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(),{children:(0,r.jsx)("title",{children:l("wishlist.seo.page_title")})}),(0,r.jsxs)(f,{fallbackRender:()=>(0,r.jsx)(d.jj,{}),children:[(0,r.jsx)(d.Xf,{allowedFacets:["sizeInStock","canonicalColour","discountPercentage","patternType","fit","price","gender","features"],list:g,collectionName:l("wishlist.title.yourwishlist"),onError:()=>y(!1),gtmList:"wishlist"}),E&&(0,r.jsx)("div",{className:w()["remove-all"],children:(0,r.jsx)(h._h,{})})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(),{children:(0,r.jsx)("title",{children:l("wishlist.seo.page_title")})}),(0,r.jsx)(h.MO,{})]}):null}x.Layout=u.X},77178:function(e){e.exports={filters:"wishlist_filters__txHIE",sort:"wishlist_sort__4y0UA","mobile-buttons":"wishlist_mobile-buttons__ClDkK","mobile-button":"wishlist_mobile-button__qkLoR","mobile-button--active":"wishlist_mobile-button--active__hJ9OU","remove-all":"wishlist_remove-all__zkGQx","advert-wishlist-empty":"wishlist_advert-wishlist-empty__DDmUh"}}},function(e){e.O(0,[458,999,949,774,888,179],function(){return e(e.s=76106)}),_N_E=e.O()}]);